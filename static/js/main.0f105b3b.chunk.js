(this["webpackJsonpflashcard-app"]=this["webpackJsonpflashcard-app"]||[]).push([[0],[,,,,,function(e,t,s){},,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var a=s(1),i=s(6),c=s.n(i),n=(s(12),s(2)),l=(s(13),s(14),s(15),s(16),s(0));function d(e){const[t,s]=Object(a.useState)("hidePanel");let i;return e.content&&(i=e.content.map((t=>Object(l.jsx)(d,{hash:e.hash+"*"+t.tabName,tabName:t.tabName,content:t.content,addOrRemoveSubject:e.addOrRemoveSubject,selectedSubjects:e.selectedSubjects},t.tabName)))),Object(l.jsxs)("button",{onClick:e.content?e=>{e.stopPropagation(),s("hidePanel"===t?"showPanel":"hidePanel")}:a=>{e.addOrRemoveSubject(e.hash),a.stopPropagation(),s("hidePanel"===t?"showPanel":"hidePanel")},className:e.selectedSubjects.includes(e.hash)?"accordionActive":"accordionInactive",children:[e.tabName,Object(l.jsx)("p",{className:e.content?t:"hidePanel",children:i})]})}function o(e){if(e.tabs){const t=e.tabs.map((t=>Object(l.jsx)(d,{tabName:t.tabName,content:t.content,hash:""+t.tabName,addOrRemoveSubject:e.addOrRemoveSubject,selectedSubjects:e.selectedSubjects},t.tabName)));return Object(l.jsxs)("div",{className:"tabHolder",children:[" ",t," "]})}}s(18),s(19);function r(e){const t=e.subject.split("*").splice(1,2).join(" ");return Object(l.jsx)("button",{className:"selectedSubject",onClick:()=>e.addOrRemoveSubject(e.subject),children:t},e.selectedSubject)}function h(e){const t=e.selectedSubjects.map((t=>Object(l.jsx)(r,{addOrRemoveSubject:e.addOrRemoveSubject,subject:t},t)));return Object(l.jsx)("div",{className:"selectedSubjectsHolder",children:t})}function p(e){return e.tabs.length?e.isMobile?Object(l.jsx)("div",{className:"modal",style:{display:e.menuModalDisplay},children:Object(l.jsx)(o,{selectedSubjects:e.selectedSubjects,tabs:e.tabs,addOrRemoveSubject:e.functions.addOrRemoveSubject})}):Object(l.jsxs)("div",{className:"modal",style:{display:e.menuModalDisplay},children:[Object(l.jsx)(o,{selectedSubjects:e.selectedSubjects,tabs:e.tabs,addOrRemoveSubject:e.functions.addOrRemoveSubject}),Object(l.jsx)(h,{selectedSubjects:e.selectedSubjects,addOrRemoveSubject:e.functions.addOrRemoveSubject})]}):Object(l.jsx)("div",{className:"modal",style:{display:e.menuModalDisplay},children:Object(l.jsxs)("div",{className:"lds-roller",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})})}s(20);var g=s(3),u=s(7);s(5);function b(e){return e.length>0?Object(l.jsxs)("h5",{className:"index",children:[e.currentIndex,"/",e.length]}):null}s(21);function j(e){const[t,s]=Object(a.useState)(!1),[i,c]=Object(a.useState)(!1),[d,o]=Object(a.useState)(1),[{xy:r},h]=Object(g.c)((()=>({xy:[0,0]}))),{transform:p,opacity:j}=Object(g.c)({opacity:t?0:1,transform:"perspective(75vw) rotateY(".concat(t?0:180,"deg)"),config:{mass:5,tension:500,friction:80}}),f=Object(u.a)({onDrag:e=>{let{down:t,movement:s,velocity:a}=e;h({xy:t?s:[0,0]})},onDragEnd:a=>{let{down:i,delta:[n,l],distance:d,direction:[r,p],velocity:g}=a;const u=g>.2,b={x:Math.abs(r)>Math.abs(p)?Math.round(r):0,y:Math.abs(r)>Math.abs(p)?0:Math.round(p)},j=u?(200+window.innerWidth)*b.x:i?n:0,f=u?(200+window.innerHeight)*b.y:i?l:0;h({xy:[j,f]}),e.onReleaseFunction&&u&&(t&&(s(!1),console.log("hi")),e.onReleaseFunction(b),c(!0),setTimeout((()=>{o(0),h({xy:[-3e3*b.x,-3e3*b.y]}),setTimeout((()=>{o(1),h({xy:[0,0]})}),500)}),500))}},g.b),m=Object(l.jsx)(b,{currentIndex:e.currentIndex+1,length:e.length});return Object(l.jsxs)(g.a.div,Object(n.a)(Object(n.a)({className:"Card",onMouseUp:()=>{i?(c(!1),e.toggleOffSwipeHelpMessages()):(e.toggleOffClickHelpMessage(),s(!t))}},f()),{},{style:{opacity:d,transform:r.interpolate(((e,t)=>"translate3d(".concat(e,"px, ").concat(t,"px, 0)")))},children:[Object(l.jsxs)(g.a.div,{className:"c",style:{opacity:j,transform:p.interpolate((e=>"".concat(e," rotateY(180deg)")))},children:[Object(l.jsxs)("div",{className:"label",children:[Object(l.jsxs)("p",{children:[e.Domain," ",e.Subdomain," ",e.Topic]}),Object(l.jsx)("p",{children:"front"})]}),Object(l.jsx)("p",{className:"content",children:e.front}),m]}),Object(l.jsxs)(g.a.div,{className:"c",style:{opacity:j.interpolate((e=>1-e)),transform:p},children:[Object(l.jsxs)("div",{className:"label",children:[Object(l.jsxs)("p",{children:[e.Domain," ",e.Subdomain," ",e.Topic]}),Object(l.jsx)("p",{children:"back"})]}),Object(l.jsx)("p",{className:"content",children:e.back}),m]})]}))}function f(e){const[t,s]=Object(a.useState)(null),i=e=>{setTimeout((()=>{s(e)}),100),setTimeout((()=>{s(null)}),1e3)},c="Click on the menu button below to select subjects to study.",n=e.cardContent?Object(l.jsx)(j,{currentIndex:e.stats.currentIndex,length:e.stats.length,isMobile:e.isMobile,front:e.cardContent.front,back:e.cardContent.back,Domain:e.stats.length?e.cardContent.Domain:null,Subdomain:e.stats.length?e.cardContent.Subdomain:null,Topic:e.stats.length?e.cardContent.Topic:null,toggleOffClickHelpMessage:e.functions.toggleOffClickHelpMessage,toggleOffSwipeHelpMessages:e.functions.toggleOffSwipeHelpMessages,onReleaseFunction:t=>{const{x:s,y:a}=t;s?s>0?(e.functions.decrementCardIndex(),i("PREVIOUS")):s<0&&(e.functions.incrementCardIndex(),i("NEXT")):a&&(a>0?(e.functions.shuffleCard(),i("SHUFFLE")):a<0&&(e.functions.removeCard(),i("REMOVE")))}}):Object(l.jsx)(j,{toggleOffClickHelpMessage:e.functions.toggleOffClickHelpMessage,toggleOffSwipeHelpMessages:e.functions.toggleOffSwipeHelpMessages,isMobile:e.isMobile,front:c,back:c,Domain:null,Subdomain:null,Topic:null,onReleaseFunction:e=>{}}),d=t?Object(l.jsx)("div",{className:"backgroundMessage",children:t}):null;return Object(l.jsxs)("div",{className:"flashcardHolder",children:[n,d]})}s(22);function m(e){const[t,s]=Object(a.useState)(!1),{x:i}=Object(g.c)({from:{x:0},x:t?1:0,config:{duration:1e3}});let c=e.active?" active":"";return Object(l.jsx)(g.a.button,{title:e.title,className:e.className?e.className+c:"button"+c,onClick:()=>{e.clickFunc(),s(!t)},onMouseOver:()=>{s(!t)},style:{transform:i.interpolate({range:[0,.25,.35,.45,.55,.65,.75,1],output:[1,.97,.9,1.1,.9,1.1,1.03,1]}).interpolate((e=>"scale(".concat(e,")")))},children:String.fromCharCode(e.content)})}s(23);function O(e){const[t,s]=Object(a.useState)(e.shouldDisplay);let i=Object(l.jsx)("div",{className:"wrapper"});return t&&("right"===e.messageType?i=Object(l.jsxs)("div",{onClick:()=>{e.toggleOffSwipeHelpMessages(),s(!1)},className:"wrapper right",children:[Object(l.jsx)("div",{className:"message",children:"swipe right to go back to last card"}),Object(l.jsx)("div",{className:"arrow arrowright",children:"\u2192"})]}):"left"===e.messageType?i=Object(l.jsxs)("div",{onClick:()=>{e.toggleOffSwipeHelpMessages(),s(!1)},className:"wrapper left",children:[Object(l.jsx)("div",{className:"arrow arrowleft",children:"\u2190"}),Object(l.jsx)("div",{className:"message",children:"swipe left to get next card"})]}):"up"===e.messageType?i=Object(l.jsxs)("div",{onClick:()=>{e.toggleOffSwipeHelpMessages(),s(!1)},className:"wrapper up",children:[Object(l.jsx)("div",{className:"arrow arrowup",children:"\u2191"}),Object(l.jsx)("div",{className:"message",children:"swipe up to remove card"})]}):"down"===e.messageType?i=Object(l.jsxs)("div",{onClick:()=>{e.toggleOffSwipeHelpMessages(),s(!1)},className:"wrapper down",children:[Object(l.jsx)("div",{className:"message",children:"swipe down to shuffle card"}),Object(l.jsx)("div",{className:"arrow arrowdown",children:"\u2193"})]}):"menu"===e.messageType?i=Object(l.jsxs)("div",{onClick:()=>s(!1),className:"wrapper menu",children:[Object(l.jsx)("div",{className:"message",children:"Click the menu button when you are ready to start studying!"}),Object(l.jsx)("div",{className:"arrow arrowright",children:"\u2192"})]}):"card"===e.messageType&&(i=Object(l.jsx)("div",{onClick:()=>s(!1),className:"wrapper",children:Object(l.jsx)("div",{className:"message card",children:"click card to flip"})}))),i}const x=[{domain:"Programming languages",subdomain:"C++",topic:"Operators",front:"arrow operator",back:"A means of accessing a class member from outside the class.&#09;Automatically dereferences the pointer variable that points to the class.",flagged:!1}],S=x.reduce(((e,t)=>{const{domain:s,subdomain:a,topic:i}=t;if(e[s])if(e[s][a]){if(!e[s][a][i]){const t=e[s],c=e[s][a];e=Object(n.a)(Object(n.a)({},e),{},{[s]:Object(n.a)(Object(n.a)({},t),{},{[a]:Object(n.a)(Object(n.a)({},c),{},{[i]:!0})})})}}else{const t=e[s];e=Object(n.a)(Object(n.a)({},e),{},{[s]:Object(n.a)(Object(n.a)({},t),{},{[a]:{[i]:!0}})})}else e[s]={[a]:{[i]:!0}};return e}),{}),w=Object.keys(S).map((e=>{const t=Object.keys(S[e]).map((t=>({tabName:t,content:Object.keys(S[e][t]).map((e=>({tabName:e})))})));return{tabName:e,content:t}}));class M extends a.Component{constructor(e){super(e),this.state={responseCards:[],possibleSubjects:w,windowWidth:window.innerWidth,windowHeight:window.innerHeight,isMobile:window.innerWidth<=420&&window.innerHeight<=750||window.innerWidth<=750&&window.innerHeight<=420,isPortrait:window.innerWidth<window.innerHeight,isDarkMode:!0,requestNewCards:!1,selectedSubjects:[],cards:[],cardIndex:0,menuModalDisplay:"none",displaySwipeHelpMessages:!1,flashMenuIcon:!1,displayClickHelpMessage:!0,clickMessageHaveNotBeenDisplayed:!0},fetch("https://cs-flashcard-api.herokuapp.com/api/v1/tabs").then((e=>e.json())).then((e=>{this.setState({possibleSubjects:e.tabs})})).catch((e=>{console.error("Error:",e)})),this.flagFlashcard=this.flagFlashcard.bind(this),this.incrementCardIndex=this.incrementCardIndex.bind(this),this.decrementCardIndex=this.decrementCardIndex.bind(this),this.toggleMenuModal=this.toggleMenuModal.bind(this),this.addOrRemoveSubjectFromSelectedSubjects=this.addOrRemoveSubjectFromSelectedSubjects.bind(this),this.shuffleCard=this.shuffleCard.bind(this),this.shuffleAllCards=this.shuffleAllCards.bind(this),this.removeCard=this.removeCard.bind(this),this.handleResize=this.handleResize.bind(this),this.toggleOffClickHelpMessage=this.toggleOffClickHelpMessage.bind(this),this.toggleOffSwipeHelpMessages=this.toggleOffSwipeHelpMessages.bind(this),this.toggleFlashMenuIcon=this.toggleFlashMenuIcon.bind(this)}flagFlashcard(){if(this.state.cards.length){let e=[...this.state.cards];e[this.state.cardIndex].flagged=void 0===e[this.state.cardIndex].flagged||!1===e[this.state.cardIndex].flagged,this.setState({cards:e});let t=e[this.state.cardIndex];setTimeout((()=>{fetch("https://cs-flashcard-api.herokuapp.com/api/v1/flagged",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{console.log("success:",e)})).catch((e=>{console.error("Error:",e)}))}),100)}}toggleMenuModal(){"flex"===this.state.menuModalDisplay?(this.setState({menuModalDisplay:"none"}),this.state.requestNewCards&&(this.requestNewCards(),this.setState({requestNewCards:!1})),this.setState({flashMenuIcon:!1}),(this.state.displayClickHelpMessage||this.state.clickMessageHaveNotBeenDisplayed)&&(this.setState({displayClickHelpMessage:!1}),this.setState({clickMessageHaveNotBeenDisplayed:!1}),this.setState({displaySwipeHelpMessages:!0}))):(this.setState({menuModalDisplay:"flex"}),this.setState({displaySwipeHelpMessages:!1}))}requestNewCards(){fetch("https://cs-flashcard-api.herokuapp.com/api/v1/cards",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.selectedSubjects)}).then((e=>e.json())).then((e=>{let t=this.shuffleAllCards(e.cards);for(let s=0;s<t.length;s++)t[s].flagged.length&&("t"===t[s].flagged[0]?t[s].flagged=!0:t[s].flagged=!1);this.setState({cards:t}),this.setState({cardIndex:0})})).catch((e=>{const t=this.state.selectedSubjects.reduce(((e,t)=>{const[s,a,i]=t.split("*");if(e[s])if(e[s][a]){if(!e[s][a][i]){const t=e[s],c=e[s][a];e=Object(n.a)(Object(n.a)({},e),{},{[s]:Object(n.a)(Object(n.a)({},t),{},{[a]:Object(n.a)(Object(n.a)({},c),{},{[i]:!0})})})}}else{const t=e[s];e=Object(n.a)(Object(n.a)({},e),{},{[s]:Object(n.a)(Object(n.a)({},t),{},{[a]:{[i]:!0}})})}else e[s]={[a]:{[i]:!0}};return e}),{});console.log({requestSubjects:t});const s=x.filter((e=>{let{domain:s,subdomain:a,topic:i}=e;return!!t&&!!t[s]&&!!t[s][a]&&!!t[s][a][i]}));this.setState({cards:s}),console.log({selectedSubjects:this.state.selectedSubjects,requestSubjects:t,cards:s})}))}addOrRemoveSubjectFromSelectedSubjects(e){let t=!1,s=[...this.state.selectedSubjects];if(s.length>0)for(let a=0;a<s.length;a++)s[a]===e&&(t=!0,s.splice(a,1),this.setState({selectedSubjects:s}));t||(s.push(e),this.setState({selectedSubjects:s})),this.setState({requestNewCards:!0}),this.setState({flashMenuIcon:!0})}incrementCardIndex(){this.state.cards.length&&(this.state.cardIndex<this.state.cards.length-1?this.setState({cardIndex:this.state.cardIndex+1}):this.setState({cardIndex:0}))}decrementCardIndex(){this.state.cards.length&&(this.state.cardIndex>0?this.setState({cardIndex:this.state.cardIndex-1}):this.setState({cardIndex:this.state.cards.length-1}))}shuffleAllCards(e){if(e.length)for(let t=e.length-1;t>=0;t--){let s=Math.floor(Math.random()*t),a=e[t];e[t]=e[s],e[s]=a}return e}shuffleCard(){if(this.state.cards.length>2){let e=[...this.state.cards],t=this.state.cardIndex;for(;t===this.state.cardIndex||t<0;)t=Math.floor(Math.random()*e.length-1);let s=e[this.state.cardIndex];e[this.state.cardIndex]=e[t],e[t]=s,this.setState({cards:e})}else this.incrementCardIndex()}removeCard(){if(this.state.cards.length){let e=[...this.state.cards];e.splice(this.state.cardIndex,1),this.state.cardIndex===this.state.cards.length-1&&this.setState({cardIndex:0}),this.setState({cards:e})}}handleResize(e){this.setState({windowWidth:window.innerWidth}),this.setState({windowHeight:window.innerHeight}),this.setState({isMobile:window.innerWidth<=420&&window.innerHeight<=750||window.innerWidth<=750&&window.innerHeight<=420}),this.setState({isPortrait:window.innerWidth<window.innerHeight})}componentDidMount(){window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.addEventListener("resize",this.handleResize)}flagCardButton(){let e=null;return"none"===this.state.menuModalDisplay&&this.state.cards.length&&this.state.cardIndex<this.state.cards.length&&void 0!==this.state.cards[this.state.cardIndex]&&(e=Object(l.jsx)(m,{className:"flagButton",title:"Flag for edit",clickFunc:this.flagFlashcard,content:9873,active:!!(this.state.cards.length&&this.state.cardIndex<this.state.cards.length&&void 0!==this.state.cards[this.state.cardIndex].flagged)&&this.state.cards[this.state.cardIndex].flagged})),e}clickHelpMessage(){return this.state.displayClickHelpMessage&&"none"===this.state.menuModalDisplay?Object(l.jsx)("div",{className:"click help",children:Object(l.jsx)(O,{shouldDisplay:this.state.displayClickHelpMessage,messageType:"card"})}):null}swipeHelpMessages(){return this.state.displaySwipeHelpMessages&&"none"===this.state.menuModalDisplay?Object(l.jsx)("div",{className:this.state.displaySwipeHelpMessages?"swipe-help-wrapper":void 0,onClick:this.toggleOffSwipeHelpMessages,children:Object(l.jsxs)("div",{className:"swipe help",children:[Object(l.jsx)(O,{toggleOffSwipeHelpMessages:this.toggleOffSwipeHelpMessages,shouldDisplay:this.state.displaySwipeHelpMessages,messageType:"up"}),Object(l.jsx)(O,{toggleOffSwipeHelpMessages:this.toggleOffSwipeHelpMessages,shouldDisplay:this.state.displaySwipeHelpMessages,messageType:"left"}),Object(l.jsx)(O,{toggleOffSwipeHelpMessages:this.toggleOffSwipeHelpMessages,shouldDisplay:this.state.displaySwipeHelpMessages,messageType:"right"}),Object(l.jsx)(O,{toggleOffSwipeHelpMessages:this.toggleOffSwipeHelpMessages,shouldDisplay:this.state.displaySwipeHelpMessages,messageType:"down"})]})}):null}toggleOffClickHelpMessage(){this.state.displayClickHelpMessage&&this.setState({displayClickHelpMessage:!1})}toggleOffSwipeHelpMessages(){this.state.displaySwipeHelpMessages&&this.setState({displaySwipeHelpMessages:!1})}toggleFlashMenuIcon(){this.setState({flashMenuIcon:!this.state.flashMenuIcon})}render(){return Object(l.jsxs)("div",{className:"App",children:[this.clickHelpMessage(),this.swipeHelpMessages(),Object(l.jsx)(p,{isMobile:this.state.isMobile,tabs:this.state.possibleSubjects,selectedSubjects:this.state.selectedSubjects,menuModalDisplay:this.state.menuModalDisplay,functions:{addOrRemoveSubject:this.addOrRemoveSubjectFromSelectedSubjects}}),Object(l.jsx)(f,{isMobile:this.state.isMobile,cardContent:this.state.cards.length?this.state.cards[this.state.cardIndex]:null,stats:{currentIndex:this.state.cardIndex,length:this.state.cards.length},functions:{incrementCardIndex:this.incrementCardIndex,decrementCardIndex:this.decrementCardIndex,shuffleCard:this.shuffleCard,removeCard:this.removeCard,flagFlashcard:this.flagFlashcard,toggleOffClickHelpMessage:this.toggleOffClickHelpMessage,toggleOffSwipeHelpMessages:this.toggleOffSwipeHelpMessages,clickHelpMessage:this.clickHelpMessage}}),Object(l.jsx)(m,{className:this.state.flashMenuIcon?"flashingMenuButton":"menuButtonAlone",title:"flex"===this.state.menuModalDisplay?"Close Menu":"Select Cards",clickFunc:this.toggleMenuModal,content:9776,active:"flex"===this.state.menuModalDisplay}),this.flagCardButton()]})}}var v=M;c.a.render(Object(l.jsx)(v,{}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.0f105b3b.chunk.js.map